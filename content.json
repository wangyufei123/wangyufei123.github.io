{"meta":{"title":"随笔小记","subtitle":"Java 前端","description":"一个热爱生活的小开发...","author":"Mr.Wang","url":"http://lwblog.xyz","root":"/"},"pages":[{"title":"关于","date":"2020-05-08T12:45:36.649Z","updated":"2020-05-04T12:57:44.000Z","comments":false,"path":"about/index.html","permalink":"http://lwblog.xyz/about/index.html","excerpt":"","text":"个人详细介绍"},{"title":"分类","date":"2020-05-08T13:15:31.896Z","updated":"2020-05-08T13:15:31.896Z","comments":false,"path":"categories/index.html","permalink":"http://lwblog.xyz/categories/index.html","excerpt":"","text":""},{"title":"书单","date":"2020-05-08T12:45:36.649Z","updated":"2020-05-04T12:57:44.000Z","comments":false,"path":"books/index.html","permalink":"http://lwblog.xyz/books/index.html","excerpt":"","text":""},{"title":"友情链接","date":"2020-05-09T03:19:18.962Z","updated":"2020-05-09T03:19:18.962Z","comments":false,"path":"links/index.html","permalink":"http://lwblog.xyz/links/index.html","excerpt":"","text":""},{"title":"Repositories","date":"2020-05-08T12:45:36.651Z","updated":"2020-05-04T12:57:44.000Z","comments":false,"path":"repository/index.html","permalink":"http://lwblog.xyz/repository/index.html","excerpt":"","text":""},{"title":"标签","date":"2020-05-08T13:14:26.998Z","updated":"2020-05-08T13:14:26.998Z","comments":false,"path":"tags/index.html","permalink":"http://lwblog.xyz/tags/index.html","excerpt":"","text":""},{"title":"文章热度排行","date":"2020-05-08T14:28:21.365Z","updated":"2020-05-08T14:28:21.365Z","comments":false,"path":"top/index.html","permalink":"http://lwblog.xyz/top/index.html","excerpt":"","text":"AV.initialize(\"a1SlXAotYrikeQEkob4dUwEO-gzGzoHsz\", \"A9wmspkpn043w1kJDU9CEXgt\"); var time=0; var title=\"\"; var url=\"\"; var query = new AV.Query('Counter'); query.notEqualTo('id',0); query.descending('time'); query.limit(1000); query.find().then(function (todo) { for (var i=0;i"},{"title":"","date":"2020-05-08T14:21:38.767Z","updated":"2020-05-08T14:21:38.767Z","comments":true,"path":"lib/jquery_lazyload/README.html","permalink":"http://lwblog.xyz/lib/jquery_lazyload/README.html","excerpt":"","text":"jquery-lazyload for NexT Installation Step 1 &rarr; Go to NexT dir Change dir to NexT directory. There must be layout, source, languages and other directories: 123$ cd themes/next$ lsbower.json _config.yml docs gulpfile.coffee languages layout LICENSE.md package.json README.md scripts source test Step 2 &rarr; Get module Install module to source/lib directory: 1$ git clone https://github.com/theme-next/theme-next-jquery-lazyload source/lib/jquery_lazyload Step 3 &rarr; Set it up Enable module in NexT _config.yml file: 1lazyload: true Update 12$ cd themes/next/source/lib/jquery_lazyload$ git pull"},{"title":"","date":"2020-05-08T14:21:38.767Z","updated":"2020-05-08T14:21:38.767Z","comments":true,"path":"lib/jquery_lazyload/bower.json","permalink":"http://lwblog.xyz/lib/jquery_lazyload/bower.json","excerpt":"","text":"{\"name\":\"jquery_lazyload\",\"version\":\"1.9.4\",\"homepage\":\"http://www.appelsiini.net/projects/lazyload\",\"authors\":[\"Mika Tuupola \"],\"description\":\"jQuery plugin for lazy loading images\",\"main\":[\"jquery.lazyload.js\",\"jquery.scrollstop.js\"],\"license\":\"MIT\",\"ignore\":[\"**/.*\",\"**/*.min.js\",\"**/*.html\",\"**/*.textile\",\"Gruntfile.js\",\"lazyload.jquery.json\",\"package.json\",\"node_modules\",\"bower_components\",\"test\",\"img\"]}"},{"title":"","date":"2020-05-08T14:21:38.768Z","updated":"2020-05-08T14:21:38.768Z","comments":true,"path":"lib/jquery_lazyload/jquery.lazyload.js","permalink":"http://lwblog.xyz/lib/jquery_lazyload/jquery.lazyload.js","excerpt":"","text":"/*! * Lazy Load - jQuery plugin for lazy loading images * * Copyright (c) 2007-2015 Mika Tuupola * * Licensed under the MIT license: * http://www.opensource.org/licenses/mit-license.php * * Project home: * http://www.appelsiini.net/projects/lazyload * * Version: 1.9.7 * */ (function($, window, document, undefined) { var $window = $(window); $.fn.lazyload = function(options) { var elements = this; var $container; var settings = { threshold : 0, failure_limit : 0, event : \"scroll\", effect : \"show\", container : window, data_attribute : \"original\", skip_invisible : false, appear : null, load : null, placeholder : \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC\" }; function update() { var counter = 0; elements.each(function() { var $this = $(this); if (settings.skip_invisible && !$this.is(\":visible\")) { return; } if ($.abovethetop(this, settings) || $.leftofbegin(this, settings)) { /* Nothing. */ } else if (!$.belowthefold(this, settings) && !$.rightoffold(this, settings)) { $this.trigger(\"appear\"); /* if we found an image we'll load, reset the counter */ counter = 0; } else { if (++counter > settings.failure_limit) { return false; } } }); } if(options) { /* Maintain BC for a couple of versions. */ if (undefined !== options.failurelimit) { options.failure_limit = options.failurelimit; delete options.failurelimit; } if (undefined !== options.effectspeed) { options.effect_speed = options.effectspeed; delete options.effectspeed; } $.extend(settings, options); } /* Cache container as jQuery as object. */ $container = (settings.container === undefined || settings.container === window) ? $window : $(settings.container); /* Fire one scroll event per scroll. Not one scroll event per image. */ if (0 === settings.event.indexOf(\"scroll\")) { $container.bind(settings.event, function() { return update(); }); } this.each(function() { var self = this; var $self = $(self); self.loaded = false; /* If no src attribute given use data:uri. */ if ($self.attr(\"src\") === undefined || $self.attr(\"src\") === false) { if ($self.is(\"img\")) { $self.attr(\"src\", settings.placeholder); } } /* When appear is triggered load original image. */ $self.one(\"appear\", function() { if (!this.loaded) { if (settings.appear) { var elements_left = elements.length; settings.appear.call(self, elements_left, settings); } $(\"\") .bind(\"load\", function() { var original = $self.attr(\"data-\" + settings.data_attribute); $self.hide(); if ($self.is(\"img\")) { $self.attr(\"src\", original); } else { $self.css(\"background-image\", \"url('\" + original + \"')\"); } $self[settings.effect](settings.effect_speed); self.loaded = true; /* Remove image from array so it is not looped next time. */ var temp = $.grep(elements, function(element) { return !element.loaded; }); elements = $(temp); if (settings.load) { var elements_left = elements.length; settings.load.call(self, elements_left, settings); } }) .attr(\"src\", $self.attr(\"data-\" + settings.data_attribute)); } }); /* When wanted event is triggered load original image */ /* by triggering appear. */ if (0 !== settings.event.indexOf(\"scroll\")) { $self.bind(settings.event, function() { if (!self.loaded) { $self.trigger(\"appear\"); } }); } }); /* Check if something appears when window is resized. */ $window.bind(\"resize\", function() { update(); }); /* With IOS5 force loading images when navigating with back button. */ /* Non optimal workaround. */ if ((/(?:iphone|ipod|ipad).*os 5/gi).test(navigator.appVersion)) { $window.bind(\"pageshow\", function(event) { if (event.originalEvent && event.originalEvent.persisted) { elements.each(function() { $(this).trigger(\"appear\"); }); } }); } /* Force initial check if images should appear. */ $(document).ready(function() { update(); }); return this; }; /* Convenience methods in jQuery namespace. */ /* Use as $.belowthefold(element, {threshold : 100, container : window}) */ $.belowthefold = function(element, settings) { var fold; if (settings.container === undefined || settings.container === window) { fold = (window.innerHeight ? window.innerHeight : $window.height()) + $window.scrollTop(); } else { fold = $(settings.container).offset().top + $(settings.container).height(); } return fold = $(element).offset().left + settings.threshold + $(element).width(); }; $.inviewport = function(element, settings) { return !$.rightoffold(element, settings) && !$.leftofbegin(element, settings) && !$.belowthefold(element, settings) && !$.abovethetop(element, settings); }; /* Custom selectors for your convenience. */ /* Use as $(\"img:below-the-fold\").something() or */ /* $(\"img\").filter(\":below-the-fold\").something() which is faster */ $.extend($.expr[\":\"], { \"below-the-fold\" : function(a) { return $.belowthefold(a, {threshold : 0}); }, \"above-the-top\" : function(a) { return !$.belowthefold(a, {threshold : 0}); }, \"right-of-screen\": function(a) { return $.rightoffold(a, {threshold : 0}); }, \"left-of-screen\" : function(a) { return !$.rightoffold(a, {threshold : 0}); }, \"in-viewport\" : function(a) { return $.inviewport(a, {threshold : 0}); }, /* Maintain BC for couple of versions. */ \"above-the-fold\" : function(a) { return !$.belowthefold(a, {threshold : 0}); }, \"right-of-fold\" : function(a) { return $.rightoffold(a, {threshold : 0}); }, \"left-of-fold\" : function(a) { return !$.rightoffold(a, {threshold : 0}); } }); })(jQuery, window, document);"},{"title":"","date":"2020-05-08T14:21:38.768Z","updated":"2020-05-08T14:21:38.768Z","comments":true,"path":"lib/jquery_lazyload/jquery.scrollstop.js","permalink":"http://lwblog.xyz/lib/jquery_lazyload/jquery.scrollstop.js","excerpt":"","text":"/* http://james.padolsey.com/javascript/special-scroll-events-for-jquery/ */ (function(){ var special = jQuery.event.special, uid1 = \"D\" + (+new Date()), uid2 = \"D\" + (+new Date() + 1); special.scrollstart = { setup: function() { var timer, handler = function(evt) { var _self = this, _args = arguments; if (timer) { clearTimeout(timer); } else { evt.type = \"scrollstart\"; jQuery.event.dispatch.apply(_self, _args); } timer = setTimeout( function(){ timer = null; }, special.scrollstop.latency); }; jQuery(this).bind(\"scroll\", handler).data(uid1, handler); }, teardown: function(){ jQuery(this).unbind( \"scroll\", jQuery(this).data(uid1) ); } }; special.scrollstop = { latency: 300, setup: function() { var timer, handler = function(evt) { var _self = this, _args = arguments; if (timer) { clearTimeout(timer); } timer = setTimeout( function(){ timer = null; evt.type = \"scrollstop\"; jQuery.event.dispatch.apply(_self, _args); }, special.scrollstop.latency); }; jQuery(this).bind(\"scroll\", handler).data(uid2, handler); }, teardown: function() { jQuery(this).unbind( \"scroll\", jQuery(this).data(uid2) ); } }; })();"}],"posts":[{"title":"Activiti6.0工作流引擎学习(二) -- 引擎配置","slug":"Activiti6-0工作流引擎学习(二)","date":"2020-05-28T03:09:05.000Z","updated":"2020-05-28T03:15:06.231Z","comments":true,"path":"posts/1d8f65f1.html","link":"","permalink":"http://lwblog.xyz/posts/1d8f65f1.html","excerpt":"","text":"Activiti6.0工作流引擎学习(二) – 引擎配置1.Activiti流程引擎配置涉及的类 1.1 流程引擎配置类的作用 ProcessEngineConfiguration 查找并解析xml配置文件activiti.cfg.xml 提供多个静态方法创建配置对象 实现几个基于不同场景场景的子类，配置方式非常的灵活 1.2 部分子类的使用12345678910111213@Test public void testConfig1()&#123; //通过默认来创建引擎；会通过spring的解析进行创建引擎对象 ProcessEngineConfiguration engine = ProcessEngineConfiguration.createProcessEngineConfigurationFromResourceDefault(); log.info(\"engine =&#123;&#125;\",engine); &#125; @Test public void testConfig2()&#123; //直接创建标准的引擎，直接new一个引擎对象 ProcessEngineConfiguration configuration = ProcessEngineConfiguration.createStandaloneProcessEngineConfiguration(); log.info(\"configuration = &#123;&#125;\",configuration); &#125; 2.数据库配置2.1 缺省配置默认，使用H2内存数据库2.2 配置JDBC属性，使用mybatis提供的链接池 2.3 配置DataSource，可自选第三方实现 Druid 为监控而生的数据库连接池 来自阿里 Dbcp 老牌数据源连接池，稳定可靠，Tomcat自带 HikariCP 来自日本的极速数据源连接池，Spring默选 2.4 数据库更新策略 配置databaseSchemaUpdate false：启动时检查数据库版本，发生不匹配抛异常 true: 启动时自动检查并甭信数据库表，不存在会创建 create-drop: 启动时创建数据库表结构，结束时删除表结构 2.5 数据库配置编码2.5.1 使用默认的配置文件创建流程引擎activiti.cfg.xml文件 123456789101112131415161718192021&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;beans xmlns=\"http://www.springframework.org/schema/beans\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt; &lt;bean id=\"processEngineConfiguration\" class=\"org.activiti.engine.impl.cfg.StandaloneProcessEngineConfiguration\"&gt; &lt;!--&lt;property name=\"jdbcUrl\" value=\"jdbc:h2:mem:activiti;DB_CLOSE_DELAY=1000\" /&gt; &lt;property name=\"jdbcDriver\" value=\"org.h2.Driver\" /&gt; &lt;property name=\"jdbcUsername\" value=\"sa\" /&gt; &lt;property name=\"jdbcPassword\" value=\"\" /&gt; &amp;lt;!&amp;ndash; Database configurations &amp;ndash;&amp;gt; &lt;property name=\"databaseSchemaUpdate\" value=\"drop-create\" /&gt; &lt;property name=\"history\" value=\"full\" /&gt;--&gt; &lt;/bean&gt;&lt;/beans&gt; 12345678public void test1()&#123; ProcessEngineConfiguration configuration = ProcessEngineConfiguration.createProcessEngineConfigurationFromResourceDefault(); log.info(\"configuration = &#123;&#125;\",configuration); ProcessEngine processEngine = configuration.buildProcessEngine(); log.info(\"获取流程引擎 = [&#123;&#125;]\",processEngine.getName()); processEngine.close(); &#125; 2.5.2 使用druid数据源activiti_druid.cfg.xml配置文件 1234567891011121314151617181920212223242526272829303132333435&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;&lt;beans xmlns=\"http://www.springframework.org/schema/beans\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd\"&gt; &lt;bean id=\"processEngineConfiguration\" class=\"org.activiti.engine.impl.cfg.StandaloneProcessEngineConfiguration\"&gt; &lt;!--&lt;property name=\"jdbcUrl\" value=\"jdbc:h2:mem:activiti;DB_CLOSE_DELAY=1000\" /&gt; &lt;property name=\"jdbcDriver\" value=\"org.h2.Driver\" /&gt; &lt;property name=\"jdbcUsername\" value=\"sa\" /&gt; &lt;property name=\"jdbcPassword\" value=\"\" /&gt; &amp;lt;!&amp;ndash; Database configurations &amp;ndash;&amp;gt;--&gt; &lt;property name=\"databaseSchemaUpdate\" value=\"drop-create\" /&gt; &lt;property name=\"dataSource\" ref=\"dataSource\"/&gt; &lt;property name=\"history\" value=\"full\" /&gt; &lt;!--引擎是否使用历史数据--&gt; &lt;property name=\"dbHistoryUsed\" value=\"true\"/&gt; &lt;!--引擎是否使用身份验证--&gt; &lt;property name=\"dbIdentityUsed\" value=\"true\"/&gt; &lt;/bean&gt; &lt;bean id=\"dataSource\" class=\"com.alibaba.druid.pool.DruidDataSource\"&gt; &lt;property name=\"url\" value=\"jdbc:mysql://111.229.203.5:3306/activiti?serverTimezone=CTT&amp;amp;useUnicode=true&amp;amp;characterEncoding=utf-8&amp;amp;allowMultiQueries=true\"/&gt; &lt;property name=\"driverClassName\" value=\"com.mysql.cj.jdbc.Driver\"/&gt; &lt;property name=\"username\" value=\"weaver\"/&gt; &lt;property name=\"password\" value=\"192612\"/&gt; &lt;property name=\"initialSize\" value=\"1\"/&gt; &lt;property name=\"maxActive\" value=\"10\"/&gt; &lt;property name=\"filters\" value=\"stat,slf4j\"/&gt; &lt;/bean&gt;&lt;/beans&gt; 12345678public void test2()&#123; ProcessEngineConfiguration configuration = ProcessEngineConfiguration.createProcessEngineConfigurationFromResource(\"activiti_druid.cfg.xml\"); log.info(\"configuration = &#123;&#125;\",configuration); ProcessEngine processEngine = configuration.buildProcessEngine(); log.info(\"获取流程引擎 = [&#123;&#125;]\",processEngine.getName()); processEngine.close(); &#125; 3.日志记录配置3.1 日志组件的关系及MDC 3.1.1 配置开启MDC(Mapped Diagnostic Contexts) 默认没有开启，需要手动设置LogMDC.setMDCEnable(true) 配置logback.xml日志模版 %X{mdcProcessInstanceID} 流程只有在执行过程出现异常才会记录MDC信息 3.2 配置历史记录级别(HistoryLevel)3.2.1 配置HistoryLevel none:不记录历史流程，性能高，流程结束后不可读取 activiti:归档流程实例和活动实例，流程变量不同步 addit:默认值，在activiti基础上同步变量值，保存表单属性 full:性能较差，记录所有实例和变量细节变化 3.3 配置基于db的事件日志(Event logging)3.3.1 配置Event Logging 试验性的事件记录机制，性能影响较大 开启默认记录所有数据的变化过程，表记录快速增长 日志内容json格式，建议存入mongoDB、Elastic Search 3.4 日志记录 mdc4 历史记录配置12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970package com.atguigu.test;import com.google.common.collect.Maps;import org.activiti.engine.history.HistoricActivityInstance;import org.activiti.engine.history.HistoricDetail;import org.activiti.engine.runtime.Execution;import org.activiti.engine.runtime.ProcessInstance;import org.activiti.engine.task.Task;import org.activiti.engine.test.ActivitiRule;import org.activiti.engine.test.Deployment;import org.junit.Rule;import org.junit.Test;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import java.util.List;import java.util.Map;/** * @program: activiti6 * @description: 测试MDC * @author: Mr.Wang * @create: 2020-14-31 */public class TestMDC &#123; private static Logger log = LoggerFactory.getLogger(TestMDC.class); @Rule public ActivitiRule activitiRule = new ActivitiRule(); @Test //定义流程文件部署 @Deployment(resources = &#123;\"my-process.bpmn20.xml\"&#125;) public void test()&#123; Map&lt;String,Object&gt; params = Maps.newHashMap(); params.put(\"keyStart1\",\"value1\"); params.put(\"keyStart2\",\"value2\"); //启动流程 ProcessInstance processInstance = activitiRule.getRuntimeService().startProcessInstanceByKey(\"my-process\",params); //修改变量 List&lt;Execution&gt; executions = activitiRule.getRuntimeService().createExecutionQuery().listPage(0, 100); for (Execution execution : executions) &#123; log.info(\"executions &#123;&#125;\",executions); &#125; log.info(\"executions size = &#123;&#125;\",executions.size()); String id = executions.iterator().next().getId(); activitiRule.getRuntimeService().setVariable(id,\"keyStart1\",\"value1_\"); //提交表单task 修改变量 Task task = activitiRule.getTaskService().createTaskQuery().singleResult(); Map&lt;String,String&gt; properties = Maps.newHashMap(); properties.put(\"formkey1\",\"valuef1\"); properties.put(\"formkey2\",\"valuef2\"); activitiRule.getFormService().submitTaskFormData(task.getId(),properties); //activitiRule.getTaskService().complete(task.getId()); //输出历史活动 List&lt;HistoricActivityInstance&gt; historicActivityInstances = activitiRule.getHistoryService().createHistoricActivityInstanceQuery().listPage(0, 100); for (HistoricActivityInstance historicActivityInstance : historicActivityInstances) &#123; log.info(\"historicActivityInstances = &#123;&#125;\",historicActivityInstances); &#125; log.info(\"historicActivityInstances size = &#123;&#125;\",historicActivityInstances.size()); //输出历史表单 //输出历史详情 List&lt;HistoricDetail&gt; historicDetails = activitiRule.getHistoryService().createHistoricDetailQuery().listPage(0, 100); for (HistoricDetail historicDetail : historicDetails) &#123; log.info(\"historicDetail [&#123;&#125;]\",historicDetail); &#125; log.info(\"historicDetail size = [&#123;&#125;]\", historicDetails.size()); &#125;&#125; 5.事件处理及监听配置-eventlog5.1 事件及监听器原理 5.2 监听器的配置方式 配置Listener eventListeners:监听所有事件派发通知 typedEventListeners:监听指定事件类型的通知 activiti:eventListener:只监听特定流程定义的事件 5.3 Activiti事件监听5.3.1 相关API ActivitiEvent:事件对象 ActivitiEventListener:监听器 ActivitiEventType:事件类型 5.4 ActivitiEventListener监听器的使用 配置文件中增加对应的配置 1234567&lt;!--配置事件监听器--&gt; &lt;property name=\"eventListeners\"&gt; &lt;list&gt; &lt;!--监听器的实现类--&gt; &lt;bean class=\"com.atguigu.event.ProcessEventListener\"/&gt; &lt;/list&gt; &lt;/property&gt; 创建一个实体类，实现ActivitiEventListener类 123456789101112131415161718192021222324252627282930313233package com.atguigu.event;import org.activiti.bpmn.model.ActivitiListener;import org.activiti.engine.delegate.event.ActivitiEvent;import org.activiti.engine.delegate.event.ActivitiEventListener;import org.activiti.engine.delegate.event.ActivitiEventType;import org.slf4j.Logger;import org.slf4j.LoggerFactory;/** * @program: activiti6 * @description: 流程监听 * @author: Mr.Wang * @create: 2020-05-27-21-26 */public class ProcessEventListener implements ActivitiEventListener &#123;private static Logger log = LoggerFactory.getLogger(ProcessEventListener.class); @Override public void onEvent(ActivitiEvent event) &#123; ActivitiEventType type = event.getType(); //判断是是否为流程启动 if(ActivitiEventType.PROCESS_STARTED.equals(type))&#123; log.info(\"流程启动 &#123;&#125;\",event.getProcessInstanceId()); &#125;else if(ActivitiEventType.PROCESS_COMPLETED.equals(type))&#123; log.info(\"流程结束\"); &#125; &#125; @Override public boolean isFailOnException() &#123; return false; &#125;&#125; 5.5 TypedEventListeners监听器的使用 配置文件 12345678910&lt;property name=\"typedEventListeners\"&gt; &lt;map&gt; &lt;!--这样配置的时候，只会监听流程启动--&gt; &lt;entry key=\"PROCESS_STARTED\"&gt; &lt;list&gt; &lt;bean class=\"com.atguigu.event.ProcessEventListener\"/&gt; &lt;/list&gt; &lt;/entry&gt; &lt;/map&gt; &lt;/property&gt; 流程监听实体类 12345678910111213141516171819202122232425262728293031323334package com.atguigu.event;import org.activiti.bpmn.model.ActivitiListener;import org.activiti.engine.delegate.event.ActivitiEvent;import org.activiti.engine.delegate.event.ActivitiEventListener;import org.activiti.engine.delegate.event.ActivitiEventType;import org.slf4j.Logger;import org.slf4j.LoggerFactory;/** * @program: activiti6 * @description: 流程监听 * @author: Mr.Wang * @create: 2020-05-27-21-26 */public class ProcessEventListener implements ActivitiEventListener &#123;private static Logger log = LoggerFactory.getLogger(ProcessEventListener.class); @Override public void onEvent(ActivitiEvent event) &#123; ActivitiEventType type = event.getType(); //判断是是否为流程启动 if(ActivitiEventType.PROCESS_STARTED.equals(type))&#123; log.info(\"流程启动 &#123;&#125;\",event.getProcessInstanceId()); &#125;else if(ActivitiEventType.PROCESS_COMPLETED.equals(type))&#123; log.info(\"流程结束\"); &#125; &#125; @Override public boolean isFailOnException() &#123; return false; &#125;&#125;//输出的结果为：22:18:38.450 [main] [INFO ]流程启动 4 c.a.e.ProcessEventListener.onEvent:23 6. 命令拦截器配置–command6.1 命令模式与责任链模式6.1.1 命令模式 6.1.2 责任链模式 CommandInterceptor 配置Interceptor customPreCommandInterceptors:配置在默认拦截器之前 customPostCommandInterceptors:配置在默认拦截器之后 commandInvoker:配置最后的执行器 6.2 拦截器的配置方式 activiti.cfg.xml文件的修改 123456&lt;!--拦截器的配置--&gt; &lt;property name=\"customPreCommandInterceptors\"&gt; &lt;list&gt; &lt;bean class=\"com.atguigu.interceptor.DurationInterceptor\"/&gt; &lt;/list&gt; &lt;/property&gt; 实体类的编写 1234567891011121314151617181920212223package com.atguigu.interceptor;import org.activiti.engine.impl.interceptor.AbstractCommandInterceptor;import org.activiti.engine.impl.interceptor.Command;import org.activiti.engine.impl.interceptor.CommandConfig;/** * @program: activiti6 * @description: 执行的时间 * @author: Mr.Wang * @create: 2020-05-27-22-53 */public class DurationInterceptor extends AbstractCommandInterceptor &#123; @Override public &lt;T&gt; T execute(CommandConfig config, Command&lt;T&gt; command) &#123; long l = System.currentTimeMillis(); this.getNext().execute(config,command); long l1 = System.currentTimeMillis(); long duration = l1 - l; System.out.println(\"执行的时长-----&gt;\"+duration); return null; &#125;&#125; 6.3 Activiti的拦截器 7. 作业执行器 Job Executor7.1 作业执行器配置（1） asyncExecutorActivate:激活作业执行器（2） asyncExectuorXXX:异步执行器的属性配置（3） asyncExecutor:异步执行器的bean 7.2 配置自定义线程池7.2.1 自定义线程池ExecutorService（1） corePoolSize:核心线程数（2） maxPoolSize: 最大线程数（3） queueCapacity:堵塞队列大小 7.2.2 基于spring线程池的配置 7.3 流程定义定时启动流程7.3.1 定时开始事件 timeDate：指定启动时间 timeDuration:指定持续时间间隔后执行 timeCycle:R5/P1DT1H指定事件段后周期执行 7.4 配置文件修改activiti.cfg.xml文件修改 12345678910111213141516&lt;bean id&#x3D;&quot;processEngineConfiguration&quot; class&#x3D;&quot;org.activiti.engine.impl.cfg.StandaloneProcessEngineConfiguration&quot;&gt; &lt;!--打开定时任务的激活器--&gt; &lt;property name&#x3D;&quot;asyncExecutorActivate&quot; value&#x3D;&quot;true&quot;&#x2F;&gt; &lt;!--定义异步执行器--&gt; &lt;property name&#x3D;&quot;asyncExecutor&quot; ref&#x3D;&quot;defaultAsyncJobExecutor&quot;&#x2F;&gt; &lt;&#x2F;bean&gt; &lt;!--系统默认的自定义任务执行器--&gt; &lt;bean id &#x3D; &quot;defaultAsyncJobExecutor&quot; class&#x3D;&quot;org.activiti.engine.impl.asyncexecutor.DefaultAsyncJobExecutor&quot;&gt; &lt;!--需要的服务--&gt; &lt;property name&#x3D;&quot;executorService&quot; ref&#x3D;&quot;executorService&quot;&#x2F;&gt; &lt;&#x2F;bean&gt; &lt;!--使用spring的线程池--&gt; &lt;bean id &#x3D; &quot;executorService&quot; class&#x3D;&quot;org.springframework.scheduling.concurrent.ThreadPoolExecutorFactoryBean&quot;&gt; &lt;!--具体的配置--&gt; &lt;&#x2F;bean&gt; 8 Activiti与Spring的集成8.1 集成Spring配置8.1.1 相关配置(1) 添加pom依赖activiti-spring 123456&lt;!-- https:&#x2F;&#x2F;mvnrepository.com&#x2F;artifact&#x2F;org.activiti&#x2F;activiti-spring --&gt;&lt;dependency&gt; &lt;groupId&gt;org.activiti&lt;&#x2F;groupId&gt; &lt;artifactId&gt;activiti-spring&lt;&#x2F;artifactId&gt; &lt;version&gt;6.0.0&lt;&#x2F;version&gt;&lt;&#x2F;dependency&gt; (2) 基于Spring的默认配置activiti-context.xml 12345678910111213141516171819202122232425262728293031323334353637383940414243&lt;?xml version&#x3D;&quot;1.0&quot; encoding&#x3D;&quot;UTF-8&quot;?&gt;&lt;beans xmlns&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&quot; xmlns:xsi&#x3D;&quot;http:&#x2F;&#x2F;www.w3.org&#x2F;2001&#x2F;XMLSchema-instance&quot; xsi:schemaLocation&#x3D;&quot;http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans http:&#x2F;&#x2F;www.springframework.org&#x2F;schema&#x2F;beans&#x2F;spring-beans.xsd&quot;&gt;&lt;!--数据源配置--&gt; &lt;bean id&#x3D;&quot;dataSource&quot; class&#x3D;&quot;com.alibaba.druid.pool.DruidDataSource&quot;&gt; &lt;property name&#x3D;&quot;url&quot; value&#x3D;&quot;jdbc:mysql:&#x2F;&#x2F;111.229.203.5:3306&#x2F;activiti?serverTimezone&#x3D;CTT&amp;useUnicode&#x3D;true&amp;characterEncoding&#x3D;utf-8&amp;allowMultiQueries&#x3D;true&quot;&#x2F;&gt; &lt;property name&#x3D;&quot;driverClassName&quot; value&#x3D;&quot;com.mysql.cj.jdbc.Driver&quot;&#x2F;&gt; &lt;property name&#x3D;&quot;username&quot; value&#x3D;&quot;weaver&quot;&#x2F;&gt; &lt;property name&#x3D;&quot;password&quot; value&#x3D;&quot;192612&quot;&#x2F;&gt; &lt;property name&#x3D;&quot;initialSize&quot; value&#x3D;&quot;1&quot;&#x2F;&gt; &lt;property name&#x3D;&quot;maxActive&quot; value&#x3D;&quot;10&quot;&#x2F;&gt; &lt;property name&#x3D;&quot;filters&quot; value&#x3D;&quot;stat,slf4j&quot;&#x2F;&gt; &lt;&#x2F;bean&gt; &lt;!--事务管理器配置--&gt; &lt;bean id&#x3D;&quot;dataSourceTransactionManager&quot; class&#x3D;&quot;org.springframework.jdbc.datasource.DataSourceTransactionManager&quot;&gt; &lt;!--指定数据源--&gt; &lt;property name&#x3D;&quot;dataSource&quot; ref&#x3D;&quot;dataSource&quot;&#x2F;&gt; &lt;&#x2F;bean&gt; &lt;bean id&#x3D;&quot;processEngineConfiguration&quot; class&#x3D;&quot;org.activiti.spring.SpringProcessEngineConfiguration&quot;&gt; &lt;property name&#x3D;&quot;dataSource&quot; ref&#x3D;&quot;dataSource&quot;&#x2F;&gt; &lt;!--配置事务管理--&gt; &lt;property name&#x3D;&quot;transactionManager&quot; ref&#x3D;&quot;dataSourceTransactionManager&quot;&#x2F;&gt; &lt;!--数据源的创建格式--&gt; &lt;property name&#x3D;&quot;databaseSchemaUpdate&quot; value&#x3D;&quot;true&quot;&#x2F;&gt; &lt;&#x2F;bean&gt; &lt;!--构造流程引擎对象--&gt; &lt;bean id &#x3D; &quot;processEngineFactoryBean&quot; class&#x3D;&quot;org.activiti.spring.ProcessEngineFactoryBean&quot;&gt; &lt;!--指定流程配置对象--&gt; &lt;property name&#x3D;&quot;processEngineConfiguration&quot; ref&#x3D;&quot;processEngineConfiguration&quot;&#x2F;&gt; &lt;&#x2F;bean&gt;&lt;!--报漏服务给Spring--&gt; &lt;bean id&#x3D;&quot;runtimeService&quot; factory-bean&#x3D;&quot;processEngineFactoryBean&quot; factory-method&#x3D;&quot;getRuntimeService&quot;&gt;&lt;&#x2F;bean&gt; &lt;bean id&#x3D;&quot;repositoryService&quot; factory-bean&#x3D;&quot;processEngineFactoryBean&quot; factory-method&#x3D;&quot;getRepositoryService&quot;&gt;&lt;&#x2F;bean&gt; &lt;bean id&#x3D;&quot;formService&quot; factory-bean&#x3D;&quot;processEngineFactoryBean&quot; factory-method&#x3D;&quot;getFormService&quot;&gt;&lt;&#x2F;bean&gt; &lt;bean id&#x3D;&quot;taskService&quot; factory-bean&#x3D;&quot;processEngineFactoryBean&quot; factory-method&#x3D;&quot;getTaskService&quot;&gt;&lt;&#x2F;bean&gt; &lt;bean id&#x3D;&quot;historyService&quot; factory-bean&#x3D;&quot;processEngineFactoryBean&quot; factory-method&#x3D;&quot;getHistoryService&quot;&gt;&lt;&#x2F;bean&gt; &lt;bean id&#x3D;&quot;activitiRule&quot; class&#x3D;&quot;org.activiti.engine.test.ActivitiRule&quot;&gt; &lt;property name&#x3D;&quot;processEngine&quot; ref&#x3D;&quot;processEngineFactoryBean&quot;&#x2F;&gt; &lt;&#x2F;bean&gt;&lt;&#x2F;beans&gt; (3) Activiti核心服务注入Spring容器详细配置见上一步 8.2 基于Spring对Activiti管理8.2.1 功能特征(1) 集成Spring事务管理器(2) 定义文件表达式中使用Spring bean(3) 自动部署资源文件 8.3 基于Spring的流程单元测试8.3.1 单元测试（1） 添加pom依赖spring-test 1234567&lt;!-- https:&#x2F;&#x2F;mvnrepository.com&#x2F;artifact&#x2F;org.springframework&#x2F;spring-test --&gt;&lt;dependency&gt; &lt;groupId&gt;org.springframework&lt;&#x2F;groupId&gt; &lt;artifactId&gt;spring-test&lt;&#x2F;artifactId&gt; &lt;version&gt;4.2.5.RELEASE&lt;&#x2F;version&gt; &lt;scope&gt;test&lt;&#x2F;scope&gt;&lt;&#x2F;dependency&gt; （2） 辅助测试Rule:ActivitiRule 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253package com.atguigu.test;import org.activiti.engine.RuntimeService;import org.activiti.engine.TaskService;import org.activiti.engine.runtime.ProcessInstance;import org.activiti.engine.task.Task;import org.activiti.engine.test.ActivitiRule;import org.activiti.engine.test.Deployment;import org.junit.Rule;import org.junit.Test;import org.junit.runner.RunWith;import org.slf4j.Logger;import org.slf4j.LoggerFactory;import org.springframework.beans.factory.annotation.Autowired;import org.springframework.test.context.ContextConfiguration;import org.springframework.test.context.junit4.SpringJUnit4ClassRunner;import java.util.List;/** * @program: activiti6 * @description: 测试与Spring的集成 * @author: Mr.Wang * @create: 2020-05-28-10-26 */@RunWith(SpringJUnit4ClassRunner.class)@ContextConfiguration(locations = &#123;\"classpath:activiti-context.xml\"&#125;)public class TestSpring &#123; private static Logger log = LoggerFactory.getLogger(TestSpring.class); @Rule @Autowired public ActivitiRule activitiRule; @Autowired private RuntimeService runtimeService; @Autowired private TaskService taskService; @Test @Deployment(resources = &#123;\"my-process.bpmn20.xml\"&#125;) public void test()&#123; ProcessInstance processInstance = runtimeService.startProcessInstanceByKey(\"my-process\"); /*List&lt;Task&gt; tasks = taskService.createTaskQuery().listPage(0, 100); for (Task task : tasks) &#123; log.info(\"task 的某些测试数据 &#123;&#125;\",task); &#125;*/ Task task = taskService.createTaskQuery().singleResult(); taskService.complete(task.getId()); &#125;&#125; （3） 辅助测试TestCase:SpringActivitiTestCase","categories":[{"name":"java","slug":"java","permalink":"http://lwblog.xyz/categories/java/"}],"tags":[{"name":"activiti6.0","slug":"activiti6-0","permalink":"http://lwblog.xyz/tags/activiti6-0/"}]},{"title":"Java8日期和时间处理","slug":"Java8日期和时间处理","date":"2020-05-21T14:13:14.000Z","updated":"2020-05-25T14:51:07.708Z","comments":true,"path":"posts/58f1702a.html","link":"","permalink":"http://lwblog.xyz/posts/58f1702a.html","excerpt":"","text":"1.java8新特性-新时间与日期API本地时间与时间戳LocalDate、LocalTime、LocalDateTime类的实例是不可变的对象，分别表示使用ISO-8601的日历系统的日期、时间、日期和时间。新的API提供了简单的日期和时间的获取方法。不包含与时区有关的信息 1.1 使用静态方法now获取本地时间123456LocalDate now = LocalDate.now();System.out.println(\"获取系统的日期:\"+now);// 2020-05-25LocalTime localTime = LocalTime.now();System.out.println(\"获取系统的时间:\"+localTime);//20:32:55.091LocalDateTime localDateTime = LocalDateTime.now();System.out.println(\"获取系统的日期和时间:\"+localDateTime);//2020-05-25T20:32:55.092 1.2 使用静态方法of获取日期和时间123456LocalDate localDate = LocalDate.of(2012, 3, 23);System.out.println(localDate);//2012-03-23LocalTime localTime = LocalTime.of(12, 12);System.out.println(localTime);//12:12LocalDateTime localDateTime = LocalDateTime.of(2012, 3, 24, 12, 12, 12);System.out.println(localDateTime);//2012-03-24T12:12:12 1.3 plusDays、plusWeeks、plusMonths、plusYear向当前LocalDate对象添加几天、几周、几个月、几年12345678910LocalDate localDate = LocalDate.now();System.out.println(localDate);//2020-05-25LocalDate localDate1 = localDate.plusDays(2L);System.out.println(localDate1);//2020-05-27LocalDate localDate2 = localDate.plusMonths(2L);System.out.println(localDate2);//2020-07-25LocalDate localDate3 = localDate.plusWeeks(2L);System.out.println(localDate3);//2020-06-08LocalDate localDate4 = localDate.plusYears(2L);System.out.println(localDate4);//2022-05-25 1.4 Instant时间戳时间戳(以Unix元年：1970年1月1日00：00：00到某个时间之间的毫秒值) 123456789//默认获取的是以UTC时区Instant now = Instant.now();System.out.println(now);//2020-05-25T13:32:32.718Z//对时间进行偏移量处理,以便获取当前所在时区的时间OffsetDateTime offsetDateTime=now.atOffset(ZoneOffset.ofHours(8));System.out.println(offsetDateTime);//2020-05-25T21:32:32.718+08:00//把获取的时间转换成对应的毫秒值long l = now.toEpochMilli();System.out.println(l);//1590413552718 1.5 Duration计算两个时间之间的间隔,Period计算两个日期之间的间隔Duration和Period的使用方式相同 123456789101112131415161718Instant now = Instant.now();try &#123; //用线程睡眠一秒钟来测试Duration的时间差 Thread.sleep(1000L);&#125; catch (InterruptedException e) &#123; e.printStackTrace();&#125;Instant now2 = Instant.now();//比较两个时间的间隔Duration duration = Duration.between(now, now2);//默认输出`PT1.002S`为ISO-861的表示方法System.out.println(duration);//将ISO的表示的方法转换为纳秒、或者毫秒值long l = duration.toNanos();//1002000000//转换为毫秒值//long l1 = duration.toMillis();System.out.println(l);//System.out.println(l1); 2.java8新特性-新时间与日期API-时间校正器TemporalAdjuster:时间校正器。有时候我们需要获取例如：将日期调整到“下周日”等操作。TemporalAdjusters:该类通过静态方法提供了大量的常用TemporalAdjuster的实现 1234567891011121314151617181920LocalDateTime ldt = LocalDateTime.now();System.out.println(ldt);//2020-05-25T22:00:35.532//获取下一个周日LocalDateTime dateTime = ldt.with(TemporalAdjusters.next(DayOfWeek.SUNDAY));System.out.println(dateTime);//2020-05-31T22:00:35.532//自定义：下一个工作日是什么时候LocalDateTime with = ldt.with(l -&gt; &#123; LocalDateTime ldt4 = (LocalDateTime) l; //获取今天是星期几 DayOfWeek dayOfWeek = ldt4.getDayOfWeek(); System.out.println(dayOfWeek);//MONDAY if (dayOfWeek.equals(DayOfWeek.FRIDAY)) &#123; return ldt4.plusDays(3L); &#125; else if (dayOfWeek.equals(DayOfWeek.SUNDAY)) &#123; return ldt4.plusDays(2L); &#125; else &#123; return ldt4.plusDays(1L); &#125; &#125;); System.out.println(with);//2020-05-26T22:06:51.576 3.java8新特性-新时间与日期API-时间格式化与时区处理3.1时间和日期的格式化123456789DateTimeFormatter isoLocalDate = DateTimeFormatter.ISO_LOCAL_DATE;LocalDateTime now = LocalDateTime.now();System.out.println(now);String format = now.format(isoLocalDate);//2020-05-25T22:22:48.083System.out.println(format);//2020-05-25//定义自己的格式DateTimeFormatter dateTimeFormatter = DateTimeFormatter.ofPattern(\"yyyy年MM月dd日\");String format1 = dateTimeFormatter.format(now);System.out.println(format1);//2020年05月25日 3.2 时区的处理java8中加入了对时区的支持，带时区的时间分别为ZonedDate,ZonedTIme,ZoneDateTime。其中每个时区都对应着ID，地区ID都是区域/城市的格式，例如：Asia/Shanghai等。ZoneId该类中包含了所有的时区信息：getAvailableZoneIds():可以获取所有时区的信息of(id):用指定的时区信息获取ZoneId对象 12345678910//获取所有的时区Set&lt;String&gt; availableZoneIds = ZoneId.getAvailableZoneIds();availableZoneIds.forEach(System.out::println);//获取时区为上海的时间LocalDateTime now = LocalDateTime.now(ZoneId.of(\"Asia/Shanghai\"));//2020-05-25T22:47:57.216System.out.println(now);//也可以使用以下的方法设置时区,返回的是带有时区的时间和日期LocalDateTime now1 = LocalDateTime.now();ZonedDateTime zonedDateTime = now1.atZone(ZoneId.of(\"Asia/Shanghai\"));//2020-05-25T22:47:57.222+08:00[Asia/Shanghai]System.out.println(zonedDateTime);","categories":[{"name":"java","slug":"java","permalink":"http://lwblog.xyz/categories/java/"}],"tags":[{"name":"java","slug":"java","permalink":"http://lwblog.xyz/tags/java/"},{"name":"JDK1.8","slug":"JDK1-8","permalink":"http://lwblog.xyz/tags/JDK1-8/"}]},{"title":"谷歌浏览器调试技巧","slug":"谷歌浏览器调试技巧","date":"2020-05-18T01:14:32.000Z","updated":"2020-05-18T01:15:41.580Z","comments":true,"path":"posts/4cc93b7c.html","link":"","permalink":"http://lwblog.xyz/posts/4cc93b7c.html","excerpt":"","text":"","categories":[{"name":"google","slug":"google","permalink":"http://lwblog.xyz/categories/google/"}],"tags":[{"name":"调试","slug":"调试","permalink":"http://lwblog.xyz/tags/%E8%B0%83%E8%AF%95/"}]},{"title":"谷歌云盘折腾记","slug":"谷歌云盘折腾记","date":"2020-05-17T03:17:09.000Z","updated":"2020-05-22T13:47:44.551Z","comments":true,"path":"posts/af6fa0b3.html","link":"","permalink":"http://lwblog.xyz/posts/af6fa0b3.html","excerpt":"","text":"折腾原因前段时间由于某些原因，Goindex基于rclone挂载的谷歌云盘在某些原因的情况下不能免科学上网进行访问。这对于我这个大量文件都存放在谷歌云盘上的人来说就有点难受了。毕竟咱是一个无产阶级没有那么多的money进行购买机场流量。只能在茫茫的查找对应的替代品，功夫不负有心人。最终在努力下终于找到一个解决的办法，故此在这里记录一下 前期准备 能科学上网的环境(准备的情况下需要科学上网) rclone 下载安装rclone CLOUDFLARE 提前注册好账号 Goindex 现在已经不能用了，原先我就是用的这个 安装免科学上网访问谷歌云盘我是在参考YouTube上大佬小小白的视频进行操作的，这里附上大佬的视频链接。各位看官，可以先参考这位大佬的视频进行操作。如果顺利的话就能正常的免科学上网的访问自己的谷歌云盘了。但是，我偏偏是这个不幸中的一人。我按照视频的操作过程中，总是卡在获取谷歌云盘的token验证失败的情况，查了很多资料都没能解决此问题。如果你也遇到这样的问题话，可以参考我的做法。首先，你原先在GoIndex上生成过对应的代码，并且在cloudflare上部署过，下图是我部署代码的部分截图其次，需要在cloudflare上新建一个worked，将这里index.js的代码复制到刚刚新建的worked中，并且将下图中的ID、密钥和token替换成原先使用Goindex生成的代码中的ID、密钥和token。(这里之所以是这样做，是因为使用rclone生成token的时候总是报错)最后，保存并部署代码就OK了，这样就能再次在不科学上网的情况下继续浏览自己谷歌云盘中的内容了。在这次更新的代码中还有很多的改进，比如可以对不同的文件夹赋予不同的权限，能在进行搜索操作 GDIndex代码生成器虽然GoIndex代码生成器目前已经不能使用了，但是现在有一个新的GDIndex代码生成器可以替代GoIndex的代码生成器GDIndex的使用方法同GoIndex。需要的小伙伴可以自行百度设置，或者参考上面提到的视频。 文章参考： 小小白大佬的视频 小小白大佬的文档说明","categories":[{"name":"google","slug":"google","permalink":"http://lwblog.xyz/categories/google/"}],"tags":[{"name":"google diriver","slug":"google-diriver","permalink":"http://lwblog.xyz/tags/google-diriver/"}]},{"title":"macbookpro使用技巧","slug":"macbookpro使用技巧","date":"2020-05-15T04:48:36.000Z","updated":"2020-05-15T06:59:49.314Z","comments":true,"path":"posts/2366fd10.html","link":"","permalink":"http://lwblog.xyz/posts/2366fd10.html","excerpt":"","text":"1.mac的隐藏功能 直观听到音量的渐变声音: shfit+音量键 声音或者亮度1/4的变化：shfit+option+音量键/亮度建 聊天打字快速调出emoj动画：command+control+空格 切换显示已关闭或者最小化的窗口：command+tab同时摁下option 隐藏当前窗口的程序：command+H 区分关闭和隐藏的代码(开启后隐藏的图标呈现半透明状态) 1defaults write com.apple.Dock showhidden -bool TRUE; killall Dock 关闭的代码 1defaults write com.apple.Dock showhidden -bool FALSE; killall Dock command+tab选中图标后摁下Q是关闭程序 2. mac中常用软件3.mac的高效使用 一位数密码：pwpolicy -clearaccountpolicies 需要在终端执行此命令 更改搜索这台mac为搜索此文件夹 访达—偏好设置—高级—执行搜索选择搜索但前文件夹 打开程序的偏好设置： command+, 手动添加打开系统偏好设置的快捷键 系统偏好设置—键盘—快捷键—APP快捷键—点击“+”，应用程序选择所有应用程序，菜单标题改为“系统偏好设置…”,快捷键中输入自己熟悉的快捷键就OK—点击添加 全局开启访达 打开自动操作 点击新建文稿 快速操作 点击实用工具，将开启应用程序拖拽到右边 工作流程收到选择：没有输入 选择新建变量—系统—资源库—coreservices—访达 点击这里可以测试是否配置正确，然后存储 快捷键定义 通过系统偏好设置—键盘—快捷键—服务—通用—全局开启访达 ![image-20200515135133428](/Users/wangyufei/Library/Application Support/typora-user-images/image-20200515135133428.png) 在全局开启访达后边点击设置快捷键，我这里设置的是command+option+空格","categories":[{"name":"Mac","slug":"Mac","permalink":"http://lwblog.xyz/categories/Mac/"}],"tags":[{"name":"Mac","slug":"Mac","permalink":"http://lwblog.xyz/tags/Mac/"}]},{"title":"sqlserver数据库还原单表数据操作","slug":"hello-world","date":"2020-05-08T14:53:07.000Z","updated":"2020-05-15T02:45:06.117Z","comments":true,"path":"posts/4a17b156.html","link":"","permalink":"http://lwblog.xyz/posts/4a17b156.html","excerpt":"","text":"在系统数据和数据库数据备份或者升级的时候，我们总是全量的备份应用或者数据。在升级完成使用一段时间后突然间发现某张表的数据有问题，此时在全部的还原数据库的数据则不太合理，那如何只还原出现问题的这张表的数据呢？ 首先，我们需要将升级时全量备份的数据库还原成一个新的数据库，如何还原一个新的数据库，此处不在赘述，网上有好多。自我感觉还是参考sqlserver官方的还原说明或者参考SQL Server从BAK文件还原到新数据库 之后，我们选择刚刚还原完成的数据库使用如下的命令将ecology.dbo.hrmresource 所有的数据导入到demo.dbo.hrmresource_Test中 选中刚刚还原的数据库，执行如下的sql语句，执行完成后刷新可以看到demo中已经出现了需要还原的表单数据 1Select * into demo.dbo.hrmresource_test From ecology.dbo.hrmresource 两张表单对比,我这里的表单中没有数据，但是可以看到需要还原的demo库中对应的表单结构已经有了 最后，我们使用下列命令将原来的表进行删除，并把HtmlLabelInfo_Test 重命名为HtmlLabelInfo 1234//删除原有的表单,此处我的里边没有对用的表单,就没有执行这一步drop table [dbo].[Hrmresource]//表单重命名,或者在ssms操作工具中直接在actionsetting_test上摁下F2进行表单重命名EXEC sp_rename 'Hrmresource_test','Hrmresource' 或者是在navicat中可以直接右键选择重命名，对表单的名称进行更改 至此,在全量备份的情况下即可还原某一张表的数据。","categories":[{"name":"数据库","slug":"数据库","permalink":"http://lwblog.xyz/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"}],"tags":[{"name":"sqlserver","slug":"sqlserver","permalink":"http://lwblog.xyz/tags/sqlserver/"}]},{"title":"网络在在线传输工具 --- 奶牛快传","slug":"文件传输","date":"2020-05-08T14:53:07.000Z","updated":"2020-05-14T03:11:14.184Z","comments":true,"path":"posts/994d00c4.html","link":"","permalink":"http://lwblog.xyz/posts/994d00c4.html","excerpt":"","text":"1.奶牛快传1.1 免费超快的传文件工具奶牛快传是一款免费、无需注册即可直接使用的网页端大文件临时传输网盘服务。它提供了网页版、微信小程序、IOS以及安卓端。无论是办公文档、照片、还是电影视频通通都能轻松分享。 未注册用户则可最大传输 2GB 文件,默认保留7天，可以免费下载100次。支持加密、邮件和短信分享 1.2 奶牛快传的使用你只需在任何浏览器打开奶牛快传的网站，通过点击上传按钮或拖放文件即可开始上传，支持一次批量上传多个文件。 之后你就能获得文件的共享链接了。你只需将链接发给别人，对方就能直接通过浏览器下载了，对方并不需要注册登录，也无需下载 APP 等麻烦操作，实用性很强。同时，奶牛快传还提供了共享网址所对应的二维码以及微信小程序二维码，这样不管用手机还是电脑来下载文件都更方便。起码自己用电脑给手机发文件的场景也是经常会用到的。 1.3 奶牛快传注册账户还未体验过注册账户，待体验后在进行分享…..","categories":[{"name":"网络在在线传输工具","slug":"网络在在线传输工具","permalink":"http://lwblog.xyz/categories/%E7%BD%91%E7%BB%9C%E5%9C%A8%E5%9C%A8%E7%BA%BF%E4%BC%A0%E8%BE%93%E5%B7%A5%E5%85%B7/"}],"tags":[{"name":"奶牛快传","slug":"奶牛快传","permalink":"http://lwblog.xyz/tags/%E5%A5%B6%E7%89%9B%E5%BF%AB%E4%BC%A0/"},{"name":"文件传输","slug":"文件传输","permalink":"http://lwblog.xyz/tags/%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93/"},{"name":"网络在在线传输工具","slug":"网络在在线传输工具","permalink":"http://lwblog.xyz/tags/%E7%BD%91%E7%BB%9C%E5%9C%A8%E5%9C%A8%E7%BA%BF%E4%BC%A0%E8%BE%93%E5%B7%A5%E5%85%B7/"}]},{"title":"油猴(Tampermonkey)常用脚本","slug":"油猴常用脚本","date":"2020-05-08T14:32:09.000Z","updated":"2020-05-13T08:09:31.020Z","comments":true,"path":"posts/44e1e43b.html","link":"","permalink":"http://lwblog.xyz/posts/44e1e43b.html","excerpt":"","text":"1.什么是油猴从英文翻译而来-Tampermonkey是一个捐赠软件用户脚本管理器，可用作浏览器扩展。该软件使用户能够添加和使用用户脚本，这些脚本是可用于修改网页的JavaScript程序 2.油猴下载地址 官网下载 谷歌商店3.常用插件3.1 批量下载网页图片 - Picviewer CE+Picviewer CE+ 是一款浏览器油猴脚本，可以将包含很多图片的网页变成图片浏览器，还能对图片进行翻转、旋转、放大，显示原始大图、收藏、批量保存，聚合所有分页大图，图片在线编辑等操作","categories":[],"tags":[{"name":"油猴","slug":"油猴","permalink":"http://lwblog.xyz/tags/%E6%B2%B9%E7%8C%B4/"},{"name":"Tampermonkey","slug":"Tampermonkey","permalink":"http://lwblog.xyz/tags/Tampermonkey/"}]}],"categories":[{"name":"java","slug":"java","permalink":"http://lwblog.xyz/categories/java/"},{"name":"google","slug":"google","permalink":"http://lwblog.xyz/categories/google/"},{"name":"Mac","slug":"Mac","permalink":"http://lwblog.xyz/categories/Mac/"},{"name":"数据库","slug":"数据库","permalink":"http://lwblog.xyz/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"},{"name":"网络在在线传输工具","slug":"网络在在线传输工具","permalink":"http://lwblog.xyz/categories/%E7%BD%91%E7%BB%9C%E5%9C%A8%E5%9C%A8%E7%BA%BF%E4%BC%A0%E8%BE%93%E5%B7%A5%E5%85%B7/"}],"tags":[{"name":"activiti6.0","slug":"activiti6-0","permalink":"http://lwblog.xyz/tags/activiti6-0/"},{"name":"java","slug":"java","permalink":"http://lwblog.xyz/tags/java/"},{"name":"JDK1.8","slug":"JDK1-8","permalink":"http://lwblog.xyz/tags/JDK1-8/"},{"name":"调试","slug":"调试","permalink":"http://lwblog.xyz/tags/%E8%B0%83%E8%AF%95/"},{"name":"google diriver","slug":"google-diriver","permalink":"http://lwblog.xyz/tags/google-diriver/"},{"name":"Mac","slug":"Mac","permalink":"http://lwblog.xyz/tags/Mac/"},{"name":"sqlserver","slug":"sqlserver","permalink":"http://lwblog.xyz/tags/sqlserver/"},{"name":"奶牛快传","slug":"奶牛快传","permalink":"http://lwblog.xyz/tags/%E5%A5%B6%E7%89%9B%E5%BF%AB%E4%BC%A0/"},{"name":"文件传输","slug":"文件传输","permalink":"http://lwblog.xyz/tags/%E6%96%87%E4%BB%B6%E4%BC%A0%E8%BE%93/"},{"name":"网络在在线传输工具","slug":"网络在在线传输工具","permalink":"http://lwblog.xyz/tags/%E7%BD%91%E7%BB%9C%E5%9C%A8%E5%9C%A8%E7%BA%BF%E4%BC%A0%E8%BE%93%E5%B7%A5%E5%85%B7/"},{"name":"油猴","slug":"油猴","permalink":"http://lwblog.xyz/tags/%E6%B2%B9%E7%8C%B4/"},{"name":"Tampermonkey","slug":"Tampermonkey","permalink":"http://lwblog.xyz/tags/Tampermonkey/"}]}